<template>
  <div v-if = '!routeToRequest' name="home">
    <div class = "container">
      <b-jumbotron header="Get Recommended" lead="Get recommendations from your colleagues and share them on Linkedin or with your job application!" align = "center"></b-jumbotron>
      <div class="row">
        <div class="col-sm-6">
          <div class="card">
            <div class="card-block">
              <h4 class="card-title">Share the details of your recommender and we notify him with a questionnaire.</h4><br>
                <router-link v-on:click.native = "onRequestRecoClick()" to = "/writereco" tag = "b-button">Write a Reco</router-link>
          </div>
        </div>
      </div>
        <div class="col-sm-6">
          <div class="card">
            <div class="card-block">
              <h4 class="card-title">Write a recommendation for someone you care about and earn good karma :)</h4><br>
                <router-link  v-on:click.native = "onRequestRecoClick()" to = "/requestreco" tag = "b-button">Request a Reco</router-link>
          </div>
        </div>
      </div>
    </div>    
    </div>
</div>
<div v-else name = "home">
  <div class = "container">
  <body style="background-image: url(https://s10.postimg.org/ki2n9yld5/imageedit_3_8721075508.gif);">
 <b-container class="bv-example-row ">
    <b-row class="justify-content-md-center" style="color:white; font-family:Montserrat;">
        <b-col cols="12" md="auto" >
         <div style="padding:20px">
          <b-img src="https://lorempixel.com/100/100/" fluid alt="Responsive image" />
         </div>
        </b-col>
        <b-col cols="12" md="auto">
         <pre style="padding:2px; color:white" align="center">
          Vikas Bansal
          VP, Products at Flipkart
         </pre>
        </b-col>
        <b-col cols="12" md="auto">
          <div style="padding:20px" >
          <br><br>
            <b-button :pressed="false" variant="success">RECOMMEND ME!</b-button>
          </div>
        </b-col>
    </b-row>
 </b-container>
<!--middle secctionm-->
 <b-container class="bv-example-row">
    <b-row align-h="center" >
        <b-col cols="4"  class="bg-transparent border-white" style="border:transparent; font-size:20px; color:white; font-family:Montserrat;">Traits people use to describe Vikas:-</b-col>
        <b-col cols="2"  class="bg-transparent border-white" style="border:transparent"></b-col>
        <b-col cols="2"  class="bg-transparent border-white" style="border:transparent"></b-col>
    </b-row>
 </b-container>
<!--second part-->
 <b-container class="bv-example-row ">
    <b-row class="justify-content-md-center" style="color:white; font-family:Montserrat;">
      <b-col cols="12" md="auto" class="bg-transparent border-white" style="border:transparent"> 
       <b-row>
        <b-col>
          <b-button variant="outline-success">Not Disabled
          </b-button>
        </b-col>
        <b-col>
          <b-button variant="outline-success">Not Disabled
          </b-button>
        </b-col>
        <b-col>
          <b-button variant="outline-success">Not Disabled
          </b-button>
        </b-col>
        <b-col>
          <b-button variant="outline-success">Not Disabled
          </b-button>
        </b-col>
        <b-col>
          <b-button variant="outline-success">Not Disabled
          </b-button> 
        </b-col>   
      </b-row>
     </b-col>
    </b-row> 
 </b-container>
 <hr width="20%">
 <!--third card-->
 <b-container class="bv-example-row">
    <b-row align-h="center" >
        <b-col cols="4"  class="bg-transparent border-white" style="border:transparent; font-size:20px; color:white; font-family:Montserrat;">Received recommendations (3)</b-col>
        <b-col cols="2"  class="bg-transparent border-white" style="border:transparent"></b-col>
        <b-col cols="2"  class="bg-transparent border-white" style="border:transparent"></b-col>
    </b-row>
 </b-container>
<!--4th part-->
 <b-container class="bv-example-row ">
   <b-row class="justify-content-md-center" style="color:white; font-family:Montserrat;">
        <b-col cols="6">
         <pre style="padding:2px; color:white" align="center">
         Vikas Bansal
         VP, Products at Flipkart
         </pre>
        </b-col>
        <b-col cols="2" >
         <div style="padding:20px">
         <b-img src="https://lorempixel.com/100/100/" fluid alt="Responsive image" />
         </div>
        </b-col>  
    </b-row>
 </b-container>
<!--5th part-->
 <b-container class="bv-example-row ">
    <b-row class="justify-content-md-center" style="color:white; font-family:Montserrat;">
      <b-col cols="8">
        <pre style="padding:2px; color:white" align="center">
        Vikas Bansal
        VP, Products at Flipkart
        </pre>
      </b-col>
    </b-row>
 </b-container>
<!--last container-->
 <b-container class="bv-example-row ">
    <b-row class="justify-content-md-center" style="color:white; font-family:Montserrat;">
       <b-col cols="4">
        <div style="padding:20px">
         ding ding
        </div>
       </b-col>
       <b-col cols="4" >
        <div style="padding:20px">
         ding ding
        </div>
       </b-col>  
    </b-row>
 </b-container>
</body>
</div>
  </div>

</template>

<script>
import {bus} from '../main';

export default {
  name: 'home',
  props: ['loggedInUser'],
  components: {
  },
  data(){

    return {
      profileDetails:{
        id: "",
        firstName: "",
        lastName: "",
        emailAddress: ""
      },
      routeToRequest: false
  }
  },

  /*updated(){
    this.routeToRequest = false;
    console.log("updated routerequest : "+this.routeToRequest);
  },*/
  beforeMount(){
    this.routeToRequest = false;
    console.log("beffore mount router request :" +this.routeToRequest);
  },

  

  methods: {
    onRequestRecoClick: function(){
      this.routeToRequest = this.$parent.$options.methods.callThis();
      if(!this.routeToRequest){
        this.$parent.$options.methods.nowCallThis(); 

        //this.changeRouteToRequest();   
      }
    },

    listenToEvent: function(){
      if(this.routeToRequest){
        bus.$on('handleRoute', this.changeRouteToRequestToFalse());
      }
      else if(!this.routeToRequest){
      bus.$on('linkedinAuthDone', this.changeRouteToRequestToTrue());
      }
},
    
  changeRouteToRequestToTrue: function(){
    this.routeToRequest = true;
    console.log("chanfgw rount resd true :" +this.routeToRequest)
  },
  changeRouteToRequestToFalse: function(){
    this.routeToRequest = false;
    console.log("chanfgw rount resd false :" +this.routeToRequest)
  }
}
}
</script>
